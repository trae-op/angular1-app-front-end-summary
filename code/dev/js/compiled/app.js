!function(){"use strict";function e(e,t,a,r){r.checkAuthorization()&&(e.defaults.headers.common.Authorization=a.Authorization)}e.$inject=["$http","$log","$localStorage","mainAuthorizationService"],angular.module("app",["ngRoute","ngSanitize","ui.select","ngStorage","facebook","google-signin","activation","header","home","front","page","shared"]).run(e)}(),function(){"use strict";function e(e,t,a){t.init("184315939079210"),a.init({client_id:"607355219083-p7ven3qhii2kijmd1utei3h260ph8dk7.apps.googleusercontent.com"}),e.otherwise({redirectTo:"/1"})}e.$inject=["$routeProvider","FacebookProvider","GoogleSigninProvider"],angular.module("app").config(e)}(),function(){"use strict";angular.module("activation",["ngRoute"])}(),function(){"use strict";function e(e){e.when("/account_activation",{templateUrl:"parts/activation-user/activation.user.html",controller:"activationUserController",controllerAs:"$ctrl"})}e.$inject=["$routeProvider"],angular.module("activation").config(e)}(),function(){"use strict";angular.module("front",["ngRoute"])}(),function(){"use strict";function e(e){e.when("/resume/:id",{templateUrl:"parts/front/front.html",controller:"frontController",controllerAs:"$ctrl"})}e.$inject=["$routeProvider"],angular.module("front").config(e)}(),function(){"use strict";angular.module("header",[])}(),function(){"use strict";angular.module("home",["ngRoute"])}(),function(){"use strict";function e(e){e.when("/:pageNumber",{templateUrl:"parts/home/home.html",controller:"homeController",controllerAs:"$ctrl"})}e.$inject=["$routeProvider"],angular.module("home").config(e)}(),function(){"use strict";angular.module("page",["ngRoute"])}(),function(){"use strict";function e(e){e.when("/page/:id/:pageName/:pageNumber",{templateUrl:"parts/page/page.html",controller:"pageController",controllerAs:"$ctrl"})}e.$inject=["$routeProvider"],angular.module("page").config(e)}(),function(){"use strict";angular.module("shared",["ngRoute","ui.bootstrap"])}(),function(){"use strict";angular.module("users",[])}(),function(){"use strict";function e(e,t,a,r,i,n,o){function s(){return n.getUser()}var c=this;if(i.temporaryDataUser){var u={name:i.temporaryDataUser.name,email:i.temporaryDataUser.email,password:i.temporaryDataUser.password,uuid:i.temporaryDataUser.uuid,hash:i.temporaryDataUser.hash},l={email:i.temporaryDataUser.email,password:i.temporaryDataUser.password,rememberMe:!0};r.accountActivationUser("activation",u,function(e){i.temporaryDataUser=!1,r.login("users/login",l,function(e){r.add("headers",o.defaultHeader(s().name,s().email),function(e){t.info("$localStorage",i),c.message="Your account successfully activated!!!"})})})}}e.$inject=["$scope","$log","$routeParams","mainHttpService","$localStorage","mainAuthorizationService","headersService"],angular.module("activation").controller("activationUserController",e)}(),function(){"use strict";function e(e,t,a,r,i,n,o,s){var c=this;c.routeParams=t,r.getById("headers",c.routeParams.id,function(e){c.header=e[0]}),c.Authorization=function(){return o.checkAuthorization()},c.getUser=function(){return o.getUser()},c.loaderCheck=function(){return s.loader.activateLoader},c.update=function(){n.forms({title:"Update",fields:[{type:"text",placeholder:"position",name:"position",text:c.header.position,required:!0},{type:"text",placeholder:"age",name:"age",text:c.header.age,required:!0},{type:"multiple-selection",placeholder:"Select skill...",name:"multiple_selection",text:c.header.skills,availableSkills:["JavaScript","Css","Html5","Node.js","Angular","Es6","TypeScript","MongoDB","Hapi.js"],required:!0}]},function(e){var t=i.filledData(e);t.name=c.getUser().name,t._id=c.header._id,t.creator_email=c.header.creator_email,r.update("headers",t,function(e){c.header=e})})}}e.$inject=["$scope","$routeParams","$log","mainHttpService","frontService","popupsService","mainAuthorizationService","mainOtherService"],angular.module("front").controller("frontController",e)}(),function(){"use strict";function e(e){var t=this;t.filledData=function(e){var t=function(t){return _.find(e,{name:t})};return{position:t("position").text,age:t("age").text,skills:t("multiple_selection").text}}}e.$inject=["$log"],angular.module("front").service("frontService",e)}(),function(){"use strict";function e(e,t,a,r,i,n,o,s){return{restrict:"EA",templateUrl:window.ORIGIN_PATH+"parts/header/header.html",link:function(e,t,a){function r(t,a){n.getByEmail("headers",t.email,function(r){t.rememberMe=!0,n.login("users/login",t,function(t){a.cancel(),r.length<=0?n.add("headers",s.defaultHeader(e.getUser().name,e.getUser().email),function(t){e.openTopMenu=!1,window.location.hash="resume/"+t._id}):(e.openTopMenu=!1,window.location.hash="resume/"+r[0]._id)})})}function c(e){o.authFacebook(function(t){r(t,e)})}function u(e){o.authGoogle(function(t){r({name:t.w3.ig,email:t.w3.U3},e)})}var l=function(e,t){return _.find(e,{name:t})};e.originPath=function(){return window.ORIGIN_PATH},e.logout=function(){n.logout()},e.getUser=function(){return o.getUser()},e.showTopMenu=function(){e.openTopMenu?e.openTopMenu=!1:e.openTopMenu=!0},e.authorization=function(){return o.checkAuthorization()},e.open=function(){i.forms({title:"Log In",fields:[{type:"email",placeholder:"email",text:"",name:"email",required:!0},{type:"password",placeholder:"password",text:"",name:"password",required:!0},{type:"checkbox",placeholder:"Remember me",name:"rememberMe",checked:!1}],additionalButtons:[{text:"Facebook",handler:c},{text:"Google",handler:u}]},function(t){var a={email:l(t,"email").text,password:l(t,"password").text,rememberMe:l(t,"rememberMe").checked};n.login("users/login",a,function(t){e.openTopMenu=!1})})},e.registration=function(){i.forms({title:"Registration",fields:[{type:"text",placeholder:"name",text:"",name:"name",required:!0},{type:"email",placeholder:"email",text:"",name:"email",required:!0},{type:"password",placeholder:"password",text:"",name:"password",required:!0},{type:"password",placeholder:"confirm password",text:"",name:"confirm_password",required:!0}]},function(t){var a={name:l(t,"name").text,email:l(t,"email").text,password:l(t,"password").text},r={email:l(t,"email").text,password:l(t,"password").text,rememberMe:!0};n.add("users",a,function(t){n.login("users/login",r,function(t){n.add("headers",s.defaultHeader(a.name,a.email),function(t){e.openTopMenu=!1,window.location.hash="resume/"+t._id})})})})}}}}e.$inject=["$log","$uibModal","$routeParams","$localStorage","popupsService","mainHttpService","mainAuthorizationService","headersService"],angular.module("header").directive("headerTop",e)}(),function(){"use strict";function e(e,t){var a=this;a.defaultHeader=function(e,t){return{name:e,position:"<Your position>",age:"<Your age>",skills:"<Need your real skills (for example: css, html etc.)>",creator_email:t}}}e.$inject=["$http","$log"],angular.module("header").service("headersService",e)}(),function(){"use strict";function e(e,t,a,r,i,n,o,s){var c=this;e.getHash="#",c.items=[],c.showMessage=!1,r.cacheData={},c.availableityItems=function(){return!(!c.items||!c.items.length)},r.get("headers",function(t){c.items=_.reverse(t),e.prevItems=c.items,c.availableityItems()||(c.showMessage=!0)}),c.loaderCheck=function(){return s.loader.activateLoader},c.Authorization=function(){return o.checkAuthorization()},c.findMe=function(){c.items=[_.find(r.cacheData.headers,{creator_email:c.getUser().email})],e.prevItems=c.items},c.getUser=function(){return o.getUser()},c.removeCompletely=function(e){var t=[],a=function(e){e?i.messages("Message",{data:{message:"User deleted!!!"}}):i.messages("Message",{data:{message:"You can't delete a user because the following data is available: \""+t.join(", ")+'". At first you should be remove the available data then to retry delete user.'}})};r.get("companies",function(i){_.filter(i,{creator_email:e.creator_email}).length&&t.push("companies"),r.get("projects",function(i){_.filter(i,{creator_email:e.creator_email}).length&&t.push("projects"),r.get("scripts",function(i){_.filter(i,{creator_email:e.creator_email}).length&&t.push("scripts"),r.get("abouts",function(i){_.filter(i,{creator_email:e.creator_email}).length&&t.push("abouts"),t.length?a():r.deleteById("headers",e._id,function(){r.getByEmail("users",e.creator_email,function(e){e.length?r.deleteById("users",e[0]._id,function(){a(!0)}):a(!0)})})})})})})}}e.$inject=["$scope","$log","$routeParams","mainHttpService","popupsService","homeService","mainAuthorizationService","mainOtherService"],angular.module("home").controller("homeController",e)}(),function(){"use strict";function e(e,t,a){}e.$inject=["$http","$log","$routeParams"],angular.module("home").service("homeService",e)}(),function(){"use strict";function e(e,t,a,r,i,n,o,s,c){var u=this;u.routeParams=t,u.showMessage=!1,u.items=[],e.getHash="#/page/"+u.routeParams.id+"/"+u.routeParams.pageName,u.availableityItems=function(){return!(!u.items||!u.items.length)},r.getById("headers",u.routeParams.id,function(t){n.creatorEmail=t[0].creator_email,r.getByEmail(u.routeParams.pageName,t[0].creator_email,function(t){u.items=_.reverse(t),e.prevItems=u.items,u.availableityItems()||(u.showMessage=!0)})}),u.loaderCheck=function(){return c.loader.activateLoader},u.getCreatorEmailByHeader=function(){return n.creatorEmail},u.Authorization=function(){return s.checkAuthorization()},u.getUser=function(){return s.getUser()},u.add=function(){u.items||(u.items=[]),i.forms({title:"abouts"!==u.routeParams.pageName?"Add":"Create",fields:n.getFields()},function(t){r.add(u.routeParams.pageName,n.filledData(t),function(t){u.items.unshift(t),e.prevItems.unshift(t),u.showMessage=!1})})},u.update=function(e,t){i.forms({title:"Update",fields:n.getFields(e)},function(a){var i=n.filledData(a);i._id=e._id,r.update(u.routeParams.pageName,i,function(e){u.items[t]=e})})},u["delete"]=function(t,a){r.deleteById(u.routeParams.pageName,t,function(t){u.items.splice(a,1),e.prevItems.splice(a,1),u.availableityItems()||(u.showMessage=!0)})},u.changeTitle=function(){return{allSymbols:function(){return _.capitalize(u.routeParams.pageName)},cutLastSymbol:function(){return this.allSymbols().substr(0,this.allSymbols().length-1)}}},u.loadScript=function(e){n.loadScript({title:"Load Script",data:e})}}e.$inject=["$scope","$routeParams","$log","mainHttpService","popupsService","pageService","paginationService","mainAuthorizationService","mainOtherService"],angular.module("page").controller("pageController",e)}(),function(){"use strict";angular.module("page").directive("bindHtmlWithJs",["$sce","$parse",function(e,t){function a(e){e="<i></i>"+e;var t=angular.element(e),a=angular.element("<div></div>");if(t.length)for(var i=1,n=t.length;i<n;i++){var o=t.eq(i),s=o[0];"SCRIPT"!=s.nodeName||s.type&&"text/javascript"!=s.type?a.append(o):r(o[0])}return e=a.html()}function r(e){var t=document.createElement("script"),a=document.body,r=function(){t.onload=t.onerror=null,a.removeChild(t)};if(t.type="text/javascript",e.src)t.src=e.src,t.async=e.async,t.onload=t.onerror=function(){r()};else{try{t.appendChild(document.createTextNode(e.innerText))}catch(i){t.text=e.innerText}setTimeout(function(){r()},10)}a.appendChild(t)}return function(r,i,n){function o(){return(s(r)||"").toString()}i.addClass("ng-binding").data("$binding",n.bindHtmlWithJs);var s=t(n.bindHtmlWithJs);r.$watch(o,function(t){var n=t?e.getTrustedHtml(s(r)):"";n&&(n=a(n)),i.html(n||"")})}}])}(),function(){"use strict";angular.module("page").filter("htmlCode",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}])}(),function(){"use strict";function e(e,t,a,r){var i=this;i.creatorEmail="",i.filledData=function(e){var t=function(t){return _.find(e,{placeholder:t})},r=function(){return{title:t("title").text,link:t("link").text,description:t("description").text,creator_email:i.creatorEmail}};switch(a.pageName){case"abouts":return{description:t("description").text,creator_email:i.creatorEmail};case"scripts":return{title:t("title").text,link:t("scripts").text,description:t("description").text,css:t("css").text,html:t("html").text,creator_email:i.creatorEmail};case"projects":return r();case"companies":return r();default:return{}}},i.getFields=function(e){var t=function(t){return e?e[t]:""},r=[{type:"text",placeholder:"title",text:t("title"),required:!0},{type:"text",placeholder:"link",text:t("link"),required:!0},{type:"textarea",placeholder:"description",text:t("description"),required:!0}];switch(a.pageName){case"scripts":return[{type:"text",placeholder:"title",text:t("title"),required:!0},{type:"textarea",placeholder:"description",text:t("description"),required:!0},{type:"textarea",placeholder:"css",text:t("css"),required:!0},{type:"textarea",placeholder:"scripts",text:t("link"),required:!0},{type:"textarea",placeholder:"html",text:t("html"),required:!0}];case"abouts":return[{type:"textarea",placeholder:"description",text:t("description"),required:!0}];case"projects":return r;case"companies":return r;default:return[]}},i.loadScript=function(e){r.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"parts/load-script/load.script.html",controller:["$uibModalInstance","items",function(e,t){var a=this;a.title=t.title,a.script={css:t.data.css,html:t.data.html,js:t.data.link},a.close=function(){e.dismiss("close")}}],controllerAs:"$ctrl",size:"md",resolve:{items:function(){return e}}})}}e.$inject=["$http","$log","$routeParams","$uibModal"],angular.module("page").service("pageService",e)}(),function(){"use strict";function e(e,t,a,r,i){var n=this;n.firstOnlyLocalStorage={Authorization:void 0,user:void 0},n.checkRememberMe=function(e){a.checkRememberMe=e},n.checkAuthorization=function(){var e=!a.checkRememberMe,t=n.firstOnlyLocalStorage.Authorization,r=a.Authorization,i=e?t:r;return!!i},n.addAuthHeaderForAPI=function(t){a.Authorization="Bearer "+t,n.firstOnlyLocalStorage.Authorization="Bearer "+t,e.defaults.headers.common.Authorization="Bearer "+t,e.defaults.headers.common["Content-Type"]="application/json"},n.clearAuthHeaderForAPI=function(){a.Authorization=void 0,n.firstOnlyLocalStorage.Authorization=void 0,delete e.defaults.headers.common.Authorization},n.setToken=function(e){e&&(a.Authorization=e,n.firstOnlyLocalStorage.Authorization=e)},n.clearUserMyself=function(){n.firstOnlyLocalStorage.user=void 0,a.user=void 0},n.getUser=function(){return a.checkRememberMe?a.user:n.firstOnlyLocalStorage.user},n.setUserMyself=function(e){delete e.password,a.user=e,n.firstOnlyLocalStorage.user=e},n.authFacebook=function(e){r.login(function(a){"connected"==a.status?r.api("/me",{fields:"email, name"},e):t.info("Facebook. User cancelled login or did not fully authorize.")},{scope:"email"})},n.authGoogle=function(e){i.signIn().then(e,function(e){t.info("Google. User cancelled login or did not fully authorize.",e)})}}e.$inject=["$http","$log","$localStorage","Facebook","GoogleSignin"],angular.module("shared").service("mainAuthorizationService",e)}(),function(){"use strict";function e(e,t,a,r,i,n){function o(e,t){return _.findIndex(d.cacheData[e],t)}function s(e,t,a){return _.filter(a,JSON.parse('{"'+t+'":"'+e+'"}'))}function c(){return window.API_URL+"/"}function u(t,a,r){n.loader.show(),e[t].apply(this,a).then(function(e){n.loader.hide(),r(e)})["catch"](l)}function l(e){n.loader.hide(),e.data?r.messages("error",e.data.message?e:{data:{message:"status: "+e.data.statusCode+", message: "+e.data.error}}):r.messages("error",{data:{message:"status: "+e.status}})}var d=this,m=!1;d.cacheData={},d.get=function(e,t){d.cacheData[e]?t(d.cacheData[e]):u("get",[c()+e],function(a){d.cacheData[e]=a.data,t(a.data)})},d.add=function(e,t,a){u("post",[c()+e,t],function(t){"users"!==e&&d.cacheData[e]&&d.cacheData[e].push(t.data),a(t.data)})},d.authorization=function(e,t,r){a.temporaryDataUser=!1,u("post",[c()+e,t],function(e){a.temporaryDataUser=e.data,r(e.data)})},d.accountActivationUser=function(e,t,a){u("post",[c()+e,t],function(e){a(e.data)})},d.login=function(e,t,a){m&&(d.cacheData=m),i.checkRememberMe(t.rememberMe),delete t.rememberMe,u("post",[c()+e,t],function(e){i.setToken(e.data.token),i.addAuthHeaderForAPI(e.data.token),i.setUserMyself(e.data.user),a(e)})},d.logout=function(){m=d.cacheData,d.cacheData={},i.clearUserMyself(),i.setToken(),i.clearAuthHeaderForAPI()},d.update=function(e,t,a){u("put",[c()+e,t],function(t){d.cacheData[e][o(e,{_id:t.data._id})]=t.data,a(t.data)})},d.deleteById=function(e,t,a){u("delete",[c()+e+"/"+t],function(r){d.cacheData[e].splice(o(e,{_id:t}),1),a(r.data)})},d.getById=function(e,t,a){d.get(e,function(e){a(s(t,"_id",e))})},d.getByEmail=function(e,t,a){d.get(e,function(r){a(s(t,"users"===e?"email":"creator_email",r))})}}e.$inject=["$http","$log","$localStorage","popupsService","mainAuthorizationService","mainOtherService"],angular.module("shared").service("mainHttpService",e)}(),function(){"use strict";function e(e,t){var a=this;a.loader={activateLoader:!1,show:function(){a.loader.activateLoader=!0},hide:function(){a.loader.activateLoader=!1}}}e.$inject=["$http","$log"],angular.module("shared").service("mainOtherService",e)}(),function(){"use strict";function e(e,t,a,r){return{restrict:"EA",templateUrl:window.ORIGIN_PATH+"parts/pagination/pagination.html",link:function(e,r,i){e.routeParams=t;var n=Number(e.routeParams.pageNumber);e.getHash,e.$watch("prevItems",function(t){if(t){var r=a.group(t,5);e.pagination=r,e.$ctrl.items=r[Number(e.routeParams.pageNumber)-1]}},!0),e.showNumbering=function(e){var t=n===e+3,a=n===e+2,r=n===e+1,i=n===e,o=n===e-1;return t||a||r||i||o},e.showDots=function(e){return n===e+4||n===e-2},e.nextPage=function(){return Number(e.routeParams.pageNumber)+1},e.prevPage=function(){return Number(e.routeParams.pageNumber)-1}}}}e.$inject=["$log","$routeParams","paginationService","$timeout"],angular.module("shared").directive("pagination",e)}(),function(){"use strict";function e(e,t,a){var r,i=this;i.group=function(e,t){var a="",i=Math.ceil(e.length/t);r=e;for(var n=0;n<i;n+=1)a+="[]"+(i-1!==n?",":"");for(var o=JSON.parse("["+a+"]"),s=0;s<o.length;s+=1)o[s]=e.slice(s*t,s*t+t);return o}}e.$inject=["$http","$log","$routeParams"],angular.module("shared").service("paginationService",e)}(),function(){"use strict";function e(e,t){this.forms=function(a,r){var i=e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"parts/popups/form.html",controller:["$uibModalInstance","items",function(e,t){var a=this,r={};a.title=t.title,a.fields=t.fields,a.additionalButtons=t.additionalButtons,a.validationCustom=function(e){var t=!0;r.filled=!0;for(var i=0;i<a.fields.length;i+=1){var n=a.fields[i];r[n.name]=n.text}return r.confirm_password?r.password===r.confirm_password&&e.$valid&&(t=!1):t=!e.$valid,t},a.send=function(t){e.close(t)},a.cancel=function(){e.dismiss("cancel")}}],controllerAs:"$ctrl",size:"md",resolve:{items:function(){return a}}});i.result.then(function(e){r(e)},function(){t.info("Modal dismissed at: "+new Date)})},this.messages=function(t,a){e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"parts/popups/messages.html",controller:["$uibModalInstance","options",function(e,a){var r=this;r.title=_.capitalize(t),r.data=a.data.message,r.classes=t,r.close=function(){e.dismiss("cancel")}}],controllerAs:"$ctrl",size:"md",resolve:{options:function(){return a}}})}}e.$inject=["$uibModal","$log"],angular.module("shared").service("popupsService",e)}(),function(){"use strict";function e(e){}e.$inject=["$log"],angular.module("users").service("usersService",e)}();