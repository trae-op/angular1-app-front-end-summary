!function(){"use strict";function e(e,t,a,r){r.checkAuthorization()&&(e.defaults.headers.common.Authorization=a.Authorization)}e.$inject=["$http","$log","$localStorage","mainAuthorizationService"],angular.module("app",["ngRoute","ngSanitize","ui.select","ngStorage","facebook","google-signin","activation","header","home","front","page","shared"]).run(e)}(),function(){"use strict";function e(e,t,a){t.init("184315939079210"),a.init({client_id:"607355219083-p7ven3qhii2kijmd1utei3h260ph8dk7.apps.googleusercontent.com"}),e.otherwise({redirectTo:"/1"})}e.$inject=["$routeProvider","FacebookProvider","GoogleSigninProvider"],angular.module("app").config(e)}(),function(){"use strict";angular.module("activation",["ngRoute"])}(),function(){"use strict";function e(e){e.when("/account_activation",{templateUrl:"parts/activation-user/activation.user.html",controller:"activationUserController",controllerAs:"$ctrl"})}e.$inject=["$routeProvider"],angular.module("activation").config(e)}(),function(){"use strict";angular.module("front",["ngRoute"])}(),function(){"use strict";function e(e){e.when("/resume/:id",{templateUrl:"parts/front/front.html",controller:"frontController",controllerAs:"$ctrl"})}e.$inject=["$routeProvider"],angular.module("front").config(e)}(),function(){"use strict";angular.module("header",[])}(),function(){"use strict";angular.module("home",["ngRoute"])}(),function(){"use strict";function e(e){e.when("/:pageNumber",{templateUrl:"parts/home/home.html",controller:"homeController",controllerAs:"$ctrl"})}e.$inject=["$routeProvider"],angular.module("home").config(e)}(),function(){"use strict";angular.module("page",["ngRoute"])}(),function(){"use strict";function e(e){e.when("/page/:id/:pageName/:pageNumber",{templateUrl:"parts/page/page.html",controller:"pageController",controllerAs:"$ctrl"})}e.$inject=["$routeProvider"],angular.module("page").config(e)}(),function(){"use strict";angular.module("shared",["ngRoute","ui.bootstrap"])}(),function(){"use strict";angular.module("users",[])}(),function(){"use strict";function e(e,t,a,r,n,i,o){function c(){return i.getUser()}var s=this;if(n.temporaryDataUser){var u={name:n.temporaryDataUser.name,email:n.temporaryDataUser.email,password:n.temporaryDataUser.password,uuid:n.temporaryDataUser.uuid,hash:n.temporaryDataUser.hash},l={email:n.temporaryDataUser.email,password:n.temporaryDataUser.password,rememberMe:!0};r.accountActivationUser("activation",u,function(e){n.temporaryDataUser=!1,r.login("users/login",l,function(e){r.add("headers",o.defaultHeader(c().name,c().email),function(e){t.info("$localStorage",n),s.message="Your account successfully activated!!!"})})})}}e.$inject=["$scope","$log","$routeParams","mainHttpService","$localStorage","mainAuthorizationService","headersService"],angular.module("activation").controller("activationUserController",e)}(),function(){"use strict";function e(e,t,a,r,n,i,o,c){var s=this;s.routeParams=t,r.getById("headers",s.routeParams.id,function(e){s.header=e[0]}),s.Authorization=function(){return o.checkAuthorization()},s.getUser=function(){return o.getUser()},s.loaderCheck=function(){return c.loader.activateLoader},s.update=function(){i.forms({title:"Update",fields:[{type:"text",placeholder:"position",name:"position",text:s.header.position,required:!0},{type:"text",placeholder:"age",name:"age",text:s.header.age,required:!0},{type:"multiple-selection",placeholder:"Select skill...",name:"multiple_selection",text:s.header.skills,availableSkills:["JavaScript","Css","Html5","Node.js","Angular","Es6","TypeScript","MongoDB","Hapi.js"],required:!0}]},function(e){var t=n.filledData(e);t.name=s.getUser().name,t._id=s.header._id,t.creator_email=s.header.creator_email,r.update("headers",t,function(e){s.header=e})})}}e.$inject=["$scope","$routeParams","$log","mainHttpService","frontService","popupsService","mainAuthorizationService","mainOtherService"],angular.module("front").controller("frontController",e)}(),function(){"use strict";function e(e){var t=this;t.filledData=function(e){var t=function(t){return _.find(e,{name:t})};return{position:t("position").text,age:t("age").text,skills:t("multiple_selection").text}}}e.$inject=["$log"],angular.module("front").service("frontService",e)}(),function(){"use strict";function e(e,t,a,r,n,i,o,c){return{restrict:"EA",templateUrl:window.ORIGIN_PATH+"parts/header/header.html",link:function(e,t,a){function r(t,a){i.getByEmail("headers",t.email,function(r){t.rememberMe=!0,i.login("users/login",t,function(t){a.cancel(),r.length<=0?i.add("headers",c.defaultHeader(e.getUser().name,e.getUser().email),function(t){e.openTopMenu=!1,window.location.hash="resume/"+t._id}):(e.openTopMenu=!1,window.location.hash="resume/"+r[0]._id)})})}function s(e){o.authFacebook(function(t){r(t,e)})}function u(e){o.authGoogle(function(t){r({name:t.w3.ig,email:t.w3.U3},e)})}var l=function(e,t){return _.find(e,{name:t})};e.originPath=function(){return window.ORIGIN_PATH},e.logout=function(){i.logout()},e.getUser=function(){return o.getUser()},e.showTopMenu=function(){e.openTopMenu?e.openTopMenu=!1:e.openTopMenu=!0},e.authorization=function(){return o.checkAuthorization()},e.open=function(){n.forms({title:"Log In",fields:[{type:"email",placeholder:"email",text:"",name:"email",required:!0},{type:"password",placeholder:"password",text:"",name:"password",required:!0},{type:"checkbox",placeholder:"Remember me",name:"rememberMe",checked:!1}],additionalButtons:[{text:"Facebook",handler:s},{text:"Google",handler:u}]},function(t){var a={email:l(t,"email").text,password:l(t,"password").text,rememberMe:l(t,"rememberMe").checked};i.login("users/login",a,function(t){e.openTopMenu=!1})})},e.registration=function(){n.forms({title:"Registration",fields:[{type:"text",placeholder:"name",text:"",name:"name",required:!0},{type:"email",placeholder:"email",text:"",name:"email",required:!0},{type:"password",placeholder:"password",text:"",name:"password",required:!0},{type:"password",placeholder:"confirm password",text:"",name:"confirm_password",required:!0}]},function(t){var a={name:l(t,"name").text,email:l(t,"email").text,password:l(t,"password").text},r={email:l(t,"email").text,password:l(t,"password").text,rememberMe:!0};i.add("users",a,function(t){i.login("users/login",r,function(t){i.add("headers",c.defaultHeader(a.name,a.email),function(t){e.openTopMenu=!1,window.location.hash="resume/"+t._id})})})})}}}}e.$inject=["$log","$uibModal","$routeParams","$localStorage","popupsService","mainHttpService","mainAuthorizationService","headersService"],angular.module("header").directive("headerTop",e)}(),function(){"use strict";function e(e,t){var a=this;a.defaultHeader=function(e,t){return{name:e,position:"<Your position>",age:"<Your age>",skills:"<Need your real skills (for example: css, html etc.)>",creator_email:t}}}e.$inject=["$http","$log"],angular.module("header").service("headersService",e)}(),function(){"use strict";function e(e,t,a,r,n,i,o,c){var s=this;e.getHash="#",s.items=[],s.showMessage=!1,r.cacheData={},s.availableityItems=function(){return!(!s.items||!s.items.length)},r.get("headers",function(t){s.items=_.reverse(t),e.prevItems=s.items,s.availableityItems()||(s.showMessage=!0)}),s.loaderCheck=function(){return c.loader.activateLoader},s.Authorization=function(){return o.checkAuthorization()},s.findMe=function(){s.items=[_.find(r.cacheData.headers,{creator_email:s.getUser().email})],e.prevItems=s.items},s.getUser=function(){return o.getUser()},s.removeCompletely=function(e){var t=[],a=function(e){e?n.messages("Message",{data:{message:"User deleted!!!"}}):n.messages("Message",{data:{message:"You can't delete a user because the following data is available: \""+t.join(", ")+'". At first you should be removed the available data then to retry delete user.'}})};r.get("companies",function(n){_.filter(n,{creator_email:e.creator_email}).length&&t.push("companies"),r.get("projects",function(n){_.filter(n,{creator_email:e.creator_email}).length&&t.push("projects"),r.get("scripts",function(n){_.filter(n,{creator_email:e.creator_email}).length&&t.push("scripts"),r.get("abouts",function(n){_.filter(n,{creator_email:e.creator_email}).length&&t.push("abouts"),t.length?a():r.deleteById("headers",e._id,function(){r.getByEmail("users",e.creator_email,function(e){e.length?r.deleteById("users",e[0]._id,function(){a(!0)}):a(!0)})})})})})})}}e.$inject=["$scope","$log","$routeParams","mainHttpService","popupsService","homeService","mainAuthorizationService","mainOtherService"],angular.module("home").controller("homeController",e)}(),function(){"use strict";function e(e,t,a){}e.$inject=["$http","$log","$routeParams"],angular.module("home").service("homeService",e)}(),function(){"use strict";function e(e,t,a,r,n,i,o,c,s){var u=this;u.routeParams=t,u.showMessage=!1,u.items=[],e.getHash="#/page/"+u.routeParams.id+"/"+u.routeParams.pageName,u.availableityItems=function(){return!(!u.items||!u.items.length)},r.getById("headers",u.routeParams.id,function(t){i.creatorEmail=t[0].creator_email,r.getByEmail(u.routeParams.pageName,t[0].creator_email,function(t){u.items=_.reverse(t),e.prevItems=u.items,u.availableityItems()||(u.showMessage=!0)})}),u.loaderCheck=function(){return s.loader.activateLoader},u.getCreatorEmailByHeader=function(){return i.creatorEmail},u.Authorization=function(){return c.checkAuthorization()},u.getUser=function(){return c.getUser()},u.add=function(){u.items||(u.items=[]),n.forms({title:"abouts"!==u.routeParams.pageName?"Add":"Create",fields:i.getFields()},function(t){r.add(u.routeParams.pageName,i.filledData(t),function(t){u.items.unshift(t),e.prevItems.unshift(t)})})},u.update=function(e,t){n.forms({title:"Update",fields:i.getFields(e)},function(a){var n=i.filledData(a);n._id=e._id,r.update(u.routeParams.pageName,n,function(e){u.items[t]=e})})},u["delete"]=function(t,a){r.deleteById(u.routeParams.pageName,t,function(t){u.items.splice(a,1),e.prevItems.splice(a,1)})},u.changeTitle=function(){return{allSymbols:function(){return _.capitalize(u.routeParams.pageName)},cutLastSymbol:function(){return this.allSymbols().substr(0,this.allSymbols().length-1)}}},u.loadScript=function(e){i.loadScript({title:"Load Script",data:e})}}e.$inject=["$scope","$routeParams","$log","mainHttpService","popupsService","pageService","paginationService","mainAuthorizationService","mainOtherService"],angular.module("page").controller("pageController",e)}(),function(){"use strict";angular.module("page").directive("bindHtmlWithJs",["$sce","$parse",function(e,t){function a(e){e="<i></i>"+e;var t=angular.element(e),a=angular.element("<div></div>");if(t.length)for(var n=1,i=t.length;n<i;n++){var o=t.eq(n),c=o[0];"SCRIPT"!=c.nodeName||c.type&&"text/javascript"!=c.type?a.append(o):r(o[0])}return e=a.html()}function r(e){var t=document.createElement("script"),a=document.body,r=function(){t.onload=t.onerror=null,a.removeChild(t)};if(t.type="text/javascript",e.src)t.src=e.src,t.async=e.async,t.onload=t.onerror=function(){r()};else{try{t.appendChild(document.createTextNode(e.innerText))}catch(n){t.text=e.innerText}setTimeout(function(){r()},10)}a.appendChild(t)}return function(r,n,i){function o(){return(c(r)||"").toString()}n.addClass("ng-binding").data("$binding",i.bindHtmlWithJs);var c=t(i.bindHtmlWithJs);r.$watch(o,function(t){var i=t?e.getTrustedHtml(c(r)):"";i&&(i=a(i)),n.html(i||"")})}}])}(),function(){"use strict";angular.module("page").filter("htmlCode",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}])}(),function(){"use strict";function e(e,t,a,r){var n=this;n.creatorEmail="",n.filledData=function(e){var t=function(t){return _.find(e,{placeholder:t})},r=function(){return{title:t("title").text,link:t("link").text,description:t("description").text,creator_email:n.creatorEmail}};switch(a.pageName){case"abouts":return{description:t("description").text,creator_email:n.creatorEmail};case"scripts":return{title:t("title").text,link:t("link").text,description:t("description").text,css:t("css").text,html:t("html").text,creator_email:n.creatorEmail};case"projects":return r();case"companies":return r();default:return{}}},n.getFields=function(e){var t=function(t){return e?e[t]:""},r=[{type:"text",placeholder:"title",text:t("title"),required:!0},{type:"text",placeholder:"link",text:t("link"),required:!0},{type:"textarea",placeholder:"description",text:t("description"),required:!0}];switch(a.pageName){case"scripts":return[{type:"text",placeholder:"title",text:t("title"),required:!0},{type:"textarea",placeholder:"description",text:t("description"),required:!0},{type:"textarea",placeholder:"css",text:t("css"),required:!0},{type:"textarea",placeholder:"link",text:t("link"),required:!0},{type:"textarea",placeholder:"html",text:t("html"),required:!0}];case"abouts":return[{type:"textarea",placeholder:"description",text:t("description"),required:!0}];case"projects":return r;case"companies":return r;default:return[]}},n.loadScript=function(e){r.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"parts/load-script/load.script.html",controller:["$uibModalInstance","items",function(e,t){var a=this;a.title=t.title,a.script={css:t.data.css,html:t.data.html,js:t.data.link},a.close=function(){e.dismiss("close")}}],controllerAs:"$ctrl",size:"md",resolve:{items:function(){return e}}})}}e.$inject=["$http","$log","$routeParams","$uibModal"],angular.module("page").service("pageService",e)}(),function(){"use strict";function e(e,t,a,r,n){var i=this;i.firstOnlyLocalStorage={Authorization:void 0,user:void 0},i.checkRememberMe=function(e){a.checkRememberMe=e},i.checkAuthorization=function(){var e=!a.checkRememberMe,t=i.firstOnlyLocalStorage.Authorization,r=a.Authorization,n=e?t:r;return!!n},i.addAuthHeaderForAPI=function(t){a.Authorization="Bearer "+t,i.firstOnlyLocalStorage.Authorization="Bearer "+t,e.defaults.headers.common.Authorization="Bearer "+t,e.defaults.headers.common["Content-Type"]="application/json"},i.clearAuthHeaderForAPI=function(){a.Authorization=void 0,i.firstOnlyLocalStorage.Authorization=void 0,delete e.defaults.headers.common.Authorization},i.setToken=function(e){e&&(a.Authorization=e,i.firstOnlyLocalStorage.Authorization=e)},i.clearUserMyself=function(){i.firstOnlyLocalStorage.user=void 0,a.user=void 0},i.getUser=function(){return a.checkRememberMe?a.user:i.firstOnlyLocalStorage.user},i.setUserMyself=function(e){delete e.password,a.user=e,i.firstOnlyLocalStorage.user=e},i.authFacebook=function(e){r.login(function(a){"connected"==a.status?r.api("/me",{fields:"email, name"},e):t.info("Facebook. User cancelled login or did not fully authorize.")},{scope:"email"})},i.authGoogle=function(e){n.signIn().then(e,function(e){t.info("Google. User cancelled login or did not fully authorize.",e)})}}e.$inject=["$http","$log","$localStorage","Facebook","GoogleSignin"],angular.module("shared").service("mainAuthorizationService",e)}(),function(){"use strict";function e(e,t,a,r,n,i){function o(e,t){return _.findIndex(d.cacheData[e],t)}function c(e,t,a){return _.filter(a,JSON.parse('{"'+t+'":"'+e+'"}'))}function s(){return window.API_URL+"/"}function u(t,a,r){i.loader.show(),e[t].apply(this,a).then(function(e){i.loader.hide(),r(e)})["catch"](l)}function l(e){i.loader.hide(),e.data?r.messages("error",e.data.message?e:{data:{message:"status: "+e.data.statusCode+", message: "+e.data.error}}):r.messages("error",{data:{message:"status: "+e.status}})}var d=this,m=!1;d.cacheData={},d.get=function(e,t){d.cacheData[e]?t(d.cacheData[e]):u("get",[s()+e],function(a){d.cacheData[e]=a.data,t(a.data)})},d.add=function(e,t,a){u("post",[s()+e,t],function(t){"users"!==e&&d.cacheData[e]&&d.cacheData[e].push(t.data),a(t.data)})},d.authorization=function(e,t,r){a.temporaryDataUser=!1,u("post",[s()+e,t],function(e){a.temporaryDataUser=e.data,r(e.data)})},d.accountActivationUser=function(e,t,a){u("post",[s()+e,t],function(e){a(e.data)})},d.login=function(e,t,a){m&&(d.cacheData=m),n.checkRememberMe(t.rememberMe),delete t.rememberMe,u("post",[s()+e,t],function(e){n.setToken(e.data.token),n.addAuthHeaderForAPI(e.data.token),n.setUserMyself(e.data.user),a(e)})},d.logout=function(){m=d.cacheData,d.cacheData={},n.clearUserMyself(),n.setToken(),n.clearAuthHeaderForAPI()},d.update=function(e,t,a){u("put",[s()+e,t],function(t){d.cacheData[e][o(e,{_id:t.data._id})]=t.data,a(t.data)})},d.deleteById=function(e,t,a){u("delete",[s()+e+"/"+t],function(r){d.cacheData[e].splice(o(e,{_id:t}),1),a(r.data)})},d.getById=function(e,t,a){d.get(e,function(e){a(c(t,"_id",e))})},d.getByEmail=function(e,t,a){d.get(e,function(r){a(c(t,"users"===e?"email":"creator_email",r))})}}e.$inject=["$http","$log","$localStorage","popupsService","mainAuthorizationService","mainOtherService"],angular.module("shared").service("mainHttpService",e)}(),function(){"use strict";function e(e,t){var a=this;a.loader={activateLoader:!1,show:function(){a.loader.activateLoader=!0},hide:function(){a.loader.activateLoader=!1}}}e.$inject=["$http","$log"],angular.module("shared").service("mainOtherService",e)}(),function(){"use strict";function e(e,t,a,r){return{restrict:"EA",templateUrl:window.ORIGIN_PATH+"parts/pagination/pagination.html",link:function(e,r,n){e.routeParams=t;var i=Number(e.routeParams.pageNumber);e.getHash,e.$watch("prevItems",function(t){if(t){var r=a.group(t,5);e.pagination=r,e.$ctrl.items=r[Number(e.routeParams.pageNumber)-1]}},!0),e.showNumbering=function(e){var t=i===e+3,a=i===e+2,r=i===e+1,n=i===e,o=i===e-1;return t||a||r||n||o},e.showDots=function(e){return i===e+4||i===e-2},e.nextPage=function(){return Number(e.routeParams.pageNumber)+1},e.prevPage=function(){return Number(e.routeParams.pageNumber)-1}}}}e.$inject=["$log","$routeParams","paginationService","$timeout"],angular.module("shared").directive("pagination",e)}(),function(){"use strict";function e(e,t,a){var r,n=this;n.group=function(e,t){var a="",n=Math.ceil(e.length/t);r=e;for(var i=0;i<n;i+=1)a+="[]"+(n-1!==i?",":"");for(var o=JSON.parse("["+a+"]"),c=0;c<o.length;c+=1)o[c]=e.slice(c*t,c*t+t);return o}}e.$inject=["$http","$log","$routeParams"],angular.module("shared").service("paginationService",e)}(),function(){"use strict";function e(e,t){this.forms=function(a,r){var n=e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"parts/popups/form.html",controller:["$uibModalInstance","items",function(e,t){var a=this,r={};a.title=t.title,a.fields=t.fields,a.additionalButtons=t.additionalButtons,a.validationCustom=function(e){var t=!0;r.filled=!0;for(var n=0;n<a.fields.length;n+=1){var i=a.fields[n];r[i.name]=i.text}return r.confirm_password?r.password===r.confirm_password&&e.$valid&&(t=!1):t=!e.$valid,t},a.send=function(t){e.close(t)},a.cancel=function(){e.dismiss("cancel")}}],controllerAs:"$ctrl",size:"md",resolve:{items:function(){return a}}});n.result.then(function(e){r(e)},function(){t.info("Modal dismissed at: "+new Date)})},this.messages=function(t,a){e.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"parts/popups/messages.html",controller:["$uibModalInstance","options",function(e,a){var r=this;r.title=_.capitalize(t),r.data=a.data.message,r.classes=t,r.close=function(){e.dismiss("cancel")}}],controllerAs:"$ctrl",size:"md",resolve:{options:function(){return a}}})}}e.$inject=["$uibModal","$log"],angular.module("shared").service("popupsService",e)}(),function(){"use strict";function e(e){}e.$inject=["$log"],angular.module("users").service("usersService",e)}();